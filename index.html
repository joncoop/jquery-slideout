<!DOCTYPE html>

<html lang="en">
<head>
  <!-- metadata -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- page title -->
  <title>JQuery Navbar</title>

  <!-- styles -->
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/slideout.css">
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.css">
</head>

<body>

<div class="container">

  <header>
    <nav class="navbar">
      <span class="slideout-toggle">&#9776;</span>

      <h1 class="navbar-brand"><a href="#">JQuery Slideout</a></h1>

      <div class="navbar-menu">
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Blog</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>

      <div class="slideout">
        <div class="slideout-dismiss">&#x274C;</div><!-- why is the X red on android? -->

        <div class="slideout-menu">
          <h1 class="slideout-brand"><a href="#">JQuery Slideout</a></h1>

          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Blog</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <h2>Welcome</h2>

    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

    <h3>Stuff to do</h3>
    <ul>
      <li>Swipe only works locally, not on hosted site. There must be some kind of AJAX voodoo going on that I don't understand.</li>
      <li>Why is X red on android?</li>
      <li>Slideout is only viewport height on mobile, not 100% page height. Looks bad when scrolling.</li>
      <li>Dim background when slideout active.</li>
      <li>Dismiss when tap/click off slideout.</li>
      <li>Disable scroll when slideout active.</li>
      <li>Enable scroll within slideout while active.</li>
    </ul>

    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
  </main>

  <footer>
    <a href="https://github.com/joncoop/jquery-slideout">View on GitHub</a>
  </footer>
</div>


<!-- include any javascript below this line -->

<!-- What the hell does this mean? https://api.jquerymobile.com/mobileinit/ -->

<script src="https://code.jquery.com/jquery-2.2.4.js"></script>

<script>
$(document).ready(function(){
  // regular jquery stuff
  $(".slideout-toggle").click(function(){
    $(".slideout").toggleClass("slideout-shown");
  });

  $("a, .slideout-dismiss").click(function(){
     $(".slideout").removeClass("slideout-shown");
  });


});

$(document).bind("mobileinit", function(){
  // jquery mobile stuff
  $(".slideout").on("swipeleft",function(){
    $(".slideout").removeClass("slideout-shown");
  });

  $(document.body).on("swiperight",function(event){
    if (event.swipestart.coords[0] < 30) {
      $(".slideout").addClass("slideout-shown");
    }
  });
});
</script>

<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

</body>
</html>
